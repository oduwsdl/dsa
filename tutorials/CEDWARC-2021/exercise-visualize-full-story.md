# Exercise – Automatically Visualizing A Story

## Introducing Raintale

![Raintale Logo](https://oduwsdl.github.io/dsa/img/software-logos/raintale-logo.png)

* Raintale uses MementoEmbed to generate raw HTML stories or publish them to services like Twitter
* Raintale takes a text file consisting of the URLs for the story
  - This file could be generated by the select_high_quality command or other commands from the OTMT
  - This file could also be generated by you! You can manually select URI-Ms for your story.
* Raintale also has additional arguments for specifying:
  - The title of the story
  - The name of the person, organization, or algorithm that generated the story
  - The URL of the collection behind the story

Because of limited time we will use a subset of the story we generated.

We do this during the lesson due to time constraints – the Boston Marathon Bombing collection is large, and produces a large story.

We will use the file `story-mementos.txt` containing 5 memento URIs.

## Using Raintale to Automatically Generate Story HTML

Run the following command: 
```
docker-compose run raintale tellstory -i story-mementos.txt --storyteller html --title "Boston Marathon Bombing" --collection-url https://archive-it.org/collections/3649 --generated-by "Shawn M. Jones" -o mystory.html
```

* `story-mementos.txt` is the list of mementos
* `--storyteller html`` tells Raintale to save the html of the story to a file
* `-o mystory.html` tells Raintale to save the html of the story to a file named `mystory.html`
* `--title` is the title of your story, it is mandatory
* `--collection-url` provides the URL for the collection so your users can visit the larger collection, *it is optional*
* `--generated-by` allows you to specify the name of an individual, organization, or service that generated the story, *it is optional*

By default Raintale will display your story as a series of MementoEmbed social cards

## What is happening with Raintale and MementoEmbed?

![MementoEmbed and Raintale](https://github.com/oduwsdl/dsa/raw/master/tutorials/CEDWARC-2019/images/mementoembed-and-raintale.png)

Raintale reads the template or the storyteller preset you selected for variables needed for your story.

For each memento URL you submitted:
1. Raintale asks MementoEmbed for the value of each of these variables
2. Raintale generates new information based this value and the content of the template or storyteller preset
3. Raintale then generates a formatted file or publishes the formatted information to a service, like Twitter

## You can create a story of thumbnails, too...

Run the following command: 
```
docker-compose run raintale tellstory -i story-mementos.txt --storyteller html --title "Boston Marathon Bombing" --collection-url https://archive-it.org/collections/3649 --generated-by "Shawn M. Jones" -o mystory.html --preset thumbnails4col
```

The `--preset` flag provides a number of presets for you to choose from, including `thumbnails4col` which produces a 4 column thumbnail story.

More presets are available as seen at: https://oduwsdl.github.io/raintale/template_gallery.html

## You can also format your story yourself...

Raintale combines existing variables from MementoEmbed with a modified form of the Jinja2 template engine. This allows you to create your own templates for storytelling.

See https://raintale.readthedocs.io/en/latest/templates.html for more information how to create your own templates for:
* HTML
* Markdown
* MediaWiki
* XML
* JSON
* pretty much any single file text format

## And you can publish stories to Twitter...

One of the options for `tellstory`’s `--storyteller` argument is `twitter`

To use this, you must also supply the -c argument and the name of a file containing your twitter credentials, like so:
```
docker-compose run raintale tellstory -i story-mementos.txt --storyteller twitter --title "Boston Marathon Bombing" --collection-url https://archive-it.org/collections/3649 --generated-by "Shawn M. Jones" -c twitter-credentials.yaml
```


[Back to Table of Contents](README.md)
